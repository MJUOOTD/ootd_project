# OOTD 온보딩 슬라이드 (첫 실행 전용) -- 요구사항 명세서

## 1) 목적 & 범위

-   **목적**: 앱 최초 실행 시 핵심 가치(날씨 기반 개인화 코디)를 10초
    내에 이해시키고, **로그인 없이 "시작하기"**로 기본 추천을 경험하게
    한다.
-   **범위**: 단일 온보딩 슬라이드 1장. 최초 실행 시 1회 노출(설정\>앱
    안내에서 재보기 가능).

## 2) 성공 기준 (측정 가능)

1.  온보딩 노출 대비 **CTA 클릭률 ≥ 85%**\
2.  CTA 클릭 후 **초기 추천 화면 도달율 ≥ 95%**\
3.  온보딩 평균 체류시간 **≤ 8초**\
4.  위치 권한 요청 전환(다음 화면에서) **허용 비율 ≥ 70%**

## 3) 사용자 시나리오 (주요 플로우)

-   U1. 사용자가 앱을 처음 실행 → 온보딩 1장 노출 → "시작하기" 탭 → 초기
    추천 화면(또는 권한 요청 스텝) 이동.
-   U2. 사용자가 설명 카드를 스크롤해 읽고 신뢰 형성 → CTA 탭.
-   U3. 로그인 없이도 기본 추천 확인 가능함을 하단 문구로 인지.

## 4) UX 카피 (고정 문구)

-   타이틀: **OOTD**\
-   서브타이틀: **날씨 맞춤 스타일 추천**\
-   카드1 제목: **실시간 날씨 기반** / 본문: **현재 날씨에 맞는 코디
    추천**\
-   카드2 제목: **개인 체온 맞춤** / 본문: **당신만의 온도 감각에 맞춘
    추천**\
-   카드3 제목: **상황별 추천** / 본문: **출근, 데이트, 운동별 맞춤
    스타일**\
-   CTA: **시작하기**\
-   푸터 안내: **로그인 없어도 기본 추천을 확인할 수 있어요**

> 카피 가이드: 14자 내외 제목, 24자 내외 본문. 구어체 금지, 평서형 유지.

## 5) 진입/이탈 조건

-   **진입**: 설치 후 최초 실행 & `hasOnboarded=false`.
-   **이탈**: CTA 탭 또는 앱 백그라운드 전환 시 상태 저장.
-   **재노출 방지**: CTA 탭 시 `hasOnboarded=true` 로 로컬
    저장(SharedPreferences/Keychain).

## 6) 레이아웃 & 구성요소

-   **상단 앱 아이콘 카드**: 128×128 dp, 라운드 28dp,
    그라디언트(보라→블루). 내부 스타 심볼.
-   **앱명 타이틀**: H1 40\~44sp, Bold.
-   **서브타이틀**: H3 22\~24sp, Medium, 2행 이하.
-   **설명 카드 3개**: 세로 스택, 각 카드 높이 96\~112dp, 라운드 20dp,
    섀도우 elevation 2.
    -   좌측 아이콘 원형 컨테이너 56dp(파스텔 배경), 내부 일러스트
        아이콘 28dp.\
    -   오른쪽 텍스트: 제목 18sp Bold / 본문 14\~15sp Regular, 행간 1.3.
-   **CTA 버튼**: 전체 폭, 높이 56dp, 라운드 16dp,
    그라디언트(블루→보라), 가운데 텍스트 18sp SemiBold.
-   **푸터 안내**: 12\~13sp, Center, 2행 이하, 대비도 4.5:1 이상.

### 간격 규격 (Design Tokens)

-   수직 마진: 상단 32 → 타이틀 16 → 서브타이틀 28 → 카드 리스트 20 →
    CTA 32 → 푸터 12.
-   카드 내부: 좌우 20, 아이콘과 텍스트 사이 14, 제목-본문 6.

### 색상 토큰 (예시)

-   **Primary/GradientStart**: #5B6CFF, **GradientEnd**: #7C3AED\
-   **Text/Primary**: #1B1D29, **Text/Secondary**: #6B7280\
-   **Surface/Background**: #F7F9FE → 흰색 상향 그라디언트\
-   **Icon BG**:
    -   날씨: #E8F0FF,\
    -   체온: #F5E8FF,\
    -   상황: #E9FFE8

### 접근성

-   텍스트 대비 WCAG AA 준수(H1 제외 최소 4.5:1, 대형 텍스트 3:1).\
-   **VoiceOver/TalkBack 라벨**:
    -   "실시간 날씨 기반, 현재 날씨에 맞는 코디 추천" 등 전체 문장
        읽힘.
    -   CTA: "시작하기, 버튼".
-   포커스 순서: 아이콘→타이틀→서브타이틀→카드1→2→3→CTA→푸터.

## 7) 상호작용 & 상태

-   **초기 로드 애니메이션**:
    -   아이콘 카드 300ms scale-in(0.96→1.0), 페이드 200ms.\
    -   카드 3개는 80ms 간격 스태거 페이드/살짝 슬라이드(12dp).\
    -   CTA는 마지막에 150ms 페이드-업.
-   **탭 효과**: 버튼 잉크리플/프레스 120ms.
-   **오프라인/저사양 모드**: 애니메이션 비활성화 플래그 지원.

## 8) 내비게이션

-   CTA 탭 → **"권한/초기설정 스텝"** 또는 **"기본 추천 화면"**(로그인
    없이).\
-   뒤로가기: 앱 종료(온보딩은 싱글 스크린).

## 9) 권한 & 보안

-   본 슬라이드에서 **권한 요청 없음**. CTA 이후 별도 화면에서 위치 권한
    설명→OS 다이얼로그.\
-   개인 정보 수집 없음(온보딩 단에서). 이벤트 로깅은 익명 ID.

## 10) 로깅/분석 이벤트 스키마

-   `onboarding_impression` {ts, ab_variant, device_class}\
-   `onboarding_card_view` {card_id: weather\|thermo\|scene}\
-   `onboarding_cta_click` {position: primary}\
-   `onboarding_exit` {reason: background\|close}
-   `onboarding_to_permission_step` {step_id}

## 11) 로컬라이제이션

-   한국어 기본. 영/일 다국어 키 준비(`onboarding.title`,
    `onboarding.card.weather.title` ...).\
-   줄바꿈 고정 금지, 20% 글자 수 증감 허용.

## 12) 성능 & 품질

-   최초 렌더 **\< 200ms**(저가형 기준).\
-   메모리: 온보딩 리소스 해제 후 홈 진입 시 0.5MB 이하 잔류.\
-   이미지/아이콘 벡터 사용(Lottie 선택 시 60KB 이하).

## 13) 경계/예외 사례

-   작은 폰(높이 \< 640dp): 카드 스크롤 가능(CTA는 고정 스티키).\
-   대형 글꼴(접근성 확대): 카드 2줄 넘어가면 본문 2행까지, 말줄임표
    처리.\
-   네트워크 오프라인: 영향 없음(온보딩은 정적).\
-   다크모드: 배경을 짙은 네이비 그라디언트, 텍스트/아이콘 대비 조정.


------------------------------------------------------------------------

## 14) 구현 가이드 (Flutter 기준 & 바이브 코딩 활용 포인트)

### 위젯 트리(요약)

    Scaffold
     └─ SafeArea
         └─ Column(mainAxisAlignment: spaceBetween)
             ├─ Expanded(
             │   └─ SingleChildScrollView
             │       └─ Column(
             │           children: [
             │             AppIconCard(),
             │             TitleText("OOTD"),
             │             SubtitleText("날씨 맞춤 스타일 추천"),
             │             FeatureCard(icon: Cloud,  title: "실시간 날씨 기반",  body: "현재 날씨에 맞는 코디 추천"),
             │             FeatureCard(icon: Thermo, title: "개인 체온 맞춤",    body: "당신만의 온도 감각에 맞춘 추천"),
             │             FeatureCard(icon: Person, title: "상황별 추천",        body: "출근, 데이트, 운동별 맞춤 스타일"),
             │           ],
             │       ),
             ├─ PrimaryCTA(text:"시작하기", onPressed: goNext),
             └─ FooterNote("로그인 없어도 기본 추천을 확인할 수 있어요")

### 상태 저장

-   `SharedPreferences.setBool('hasOnboarded', true)`\
-   진입 가드: 스플래시/앱 시작 시
    `prefs.getBool('hasOnboarded') ?? false` 분기.

### 애니메이션

-   `AnimatedOpacity` + `TweenAnimationBuilder` 또는
    `ImplicitlyAnimatedReorderableList` 수준으로 경량 구현.
-   스태거: `Future.delayed` 체인 혹은 `AnimationController`로 80ms
    간격.

### 접근성 라벨

``` dart
Semantics(
  label: '실시간 날씨 기반, 현재 날씨에 맞는 코디 추천',
  button: false,
  child: FeatureCard(...),
)
```


------------------------------------------------------------------------

## 16) 테스트 케이스 (QA 체크리스트)

-   [ ] 최초 실행 시에만 온보딩 노출된다.\
-   [ ] 가로/세로 전환 시 레이아웃 깨짐 없음.\
-   [ ] 폰트 크기 200%에서 카드/CTA가 접근 가능하다.\
-   [ ] 스크린리더가 각 카드의 제목+본문을 연속으로 읽는다.\
-   [ ] CTA 탭 시 `hasOnboarded=true` 저장되고 재실행 시 스킵된다.\
-   [ ] 다크모드에서 대비 충분, 그라디언트 밴딩 없음.\
-   [ ] 이벤트 로깅이 정의된 스키마와 일치한다.

## 17) 수용 기준 (Acceptance)

-   디자인 토큰/문구/간격이 명세와 ±2dp, ±1sp 내로 일치.\
-   성능/접근성/로깅 지표 충족.\
-   크래시·블로킹 버그 0건.

------------------------------------------------------------------------
