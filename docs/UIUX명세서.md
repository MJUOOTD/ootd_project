# OOTD 앱 UI/UX 요구 명세서

## 1. 앱 개요
- 목적: 날씨와 개인 프로필 기반 맞춤형 OOTD(Outfit of the Day) 추천 서비스
- 주요 기능: 개인화된 코디 추천, 사용자 피드백 반영, 코디 저장 및 검색

---

## 2. 전체 앱 구조 (Information Architecture)
앱 진입점 (App.tsx)
├── 온보딩 플로우 (OnboardingFlow)
│ ├── 기본 정보 수집 (이름, 이메일, 성별)
│ └── 체온 민감도 선택 (추위 많이 탐/보통/더위 많이 탐)│
└── 메인 앱 (사용자 로그인 후)
├── 홈 화면 (HomeScreen)
├── 검색 화면 (SearchScreen) 
├── 저장함 화면 (SavedScreen)
├── 알림 화면 (NotificationScreen)
├── 설정 화면 (SettingsScreen)
├── 코디 상세 화면 (OutfitDetail)
└── 하단 네비게이션 (NavigationTabs)

---

## 3. 화면 단위 상세 명세

### 3.1 온보딩 화면 (OnboardingFlow)

- 단계별 구성 (총 4단계)
  1. **앱 소개 슬라이드 (3장)**  
     - 첫 진입 시 앱 핵심 기능과 가치를 소개 (날씨 연동/개인화된 OOTD 추천/알림 기능 제공)  
     - 드래그로 슬라이드 넘김
  2. **회원가입 / 로그인**  
     - 이메일 로그인, 소셜 로그인 옵션 제공  
  3. **권한 요청 화면**  
     - 알림 허용 (기상 알림, 옷차림 추천 알림)  
     - 위치 서비스 허용 (현 위치 기반 날씨 데이터 수집)  
     - 권한 거부 시 → “위치 권한을 켜주세요” 안내 화면으로 전환  
       - 설명 문구: “현 위치 날씨 정보를 불러오기 위해 위치 권한이 필요합니다.”  
       - 버튼: “권한 켜기” (OS 설정으로 이동)
  4. **초기 프로필 설정**  
     - 입력 요소: 이름, 이메일, 성별  
     - 옵션 선택: 체온 민감도 (추위를 많이 탐 / 보통 / 더위를 많이 탐)

- 목적:  
  - 사용자에게 앱의 목적과 기능을 빠르게 전달  
  - 초기 프로필 데이터를 수집해 개인화된 추천 제공  
  - 알림/위치 권한 확보로 앱 기능 최적화  

---

### 3.1.1 온보딩 상태 및 전이 (State & Flow)

- 상태 정의:  
  - `intro | auth | permission | profile | done`

- 전이 규칙:  
  - `intro.next → auth`  
  - `auth.success → permission`  
  - `permission.allow → profile`  
  - `permission.deny → permissionGuide` (위치 권한 켜기 안내 화면)  
  - `permissionGuide.confirm → permission`  
  - `profile.submit(valid) → done`  

---

### 3.1.2 권한 거부 시 처리 (Permission Guide)

- 화면 구성:  
  - 안내 텍스트: “앱의 핵심 기능을 위해 위치 권한이 필요합니다. 설정에서 권한을 켜주세요.”  
  - 버튼: “설정으로 이동” (OS 권한 설정 페이지 딥링크)  
  - 서브 버튼: “다시 시도” (권한 요청 재실행)  

- UX 가이드:  
  - 권한을 허용하지 않으면 앱 핵심 기능을 사용할 수 없음을 명확히 안내  
  - 사용자가 스스로 설정을 바꿀 수 있도록 OS 설정 페이지로 연결  
  - 반복 거부 시에는 홈 화면 진입 차단 + 안내 유지

---

### 3.2 홈 화면 (HomeScreen)

- 주요 구성:
  - **시간 반영 인사말**  
    - 예: "좋은 아침이에요!" / "좋은 오후에요!" / "좋은 저녁이에요!"
    - 시간대(05 ~ 11 / 12 ~ 17 / 18~24시) 기반 변경
  - **날씨 정보 위젯**  
    - 현재 기온, 체감온도, 날씨 아이콘, 강수확률, 바람 속도
    - 데이터 출처: 기상청 API (30분 캐시)
    - API 실패 시: 마지막 캐시 표시 + "다시 시도" 버튼
  - **날씨 기반 코디 추천 (3개)**  
    - 개인화 알고리즘 적용 (체온 민감도 + 날씨 조건)
    - UI: 캐러셀 슬라이드(좌우 스와이프)
    - 각 카드: 썸네일 이미지
    - 항상 3개 노출, 부족 시 기본 코디 세트로 대체
- UX 고려:
  - 상세 화면 → 홈 복귀 시, 스크롤 위치와 캐러셀 위치 모두 복원
  - 앱 종료 후 재실행 시에는 복원하지 않고 초기화
  - 새로고침 시 스켈레톤 UI 표시

---

### 3.3 코디 피드백 플로우 (Post-View Feedback)

- 목적: 추천 3개 중 착용 선택 → 체감 온도 피드백 수집 → 하트 저장(옷장)까지 한 번에 처리

#### 1) 진입 조건
- 코디 상세 화면에서 일정 시간(예: 15초) 이상 체류 후 노출
- 하루 1회(세션) 최대 1번 노출 기본값 (설정에서 변경 가능)

#### 2) 화면 구성 (FeedbackSheet)
1. **착용 선택**
   - 추천된 3개의 코디 중 1개를 선택
   - 선택하지 않을 경우 → "이따가 할래요" 또는 "추천받은 옷을 입지 않았어요" 옵션 제공
2. **체감 온도 선택**
   - 착용 코디를 선택한 경우에만 활성화
   - 옵션: "추웠어요 / 적당했어요 / 더웠어요"
3. **저장 옵션**
   - 하트 버튼을 눌러 옷장에 저장 가능
4. **제출**
   - 선택 내용이 모두 충족되면 확인 버튼 활성화
   - 제출 후 홈 화면으로 복귀

#### 상태 전환
    - 착용 선택 완료 → 체감 온도 화면 노출
    - "이따가 할래요" → 홈 화면으로 돌아가며 나중에 다시 피드백 가능
    - "추천받은 옷을 입지 않았어요" → 체감 온도 입력 단계 건너뜀
    - 확인 후 → 피드백 저장 및 화면 닫힘

#### 저장해야 하는 정보
- 추천 세트 ID와 추천된 코디 목록
- 사용자가 실제 착용한 코디 ID (선택 시)
- 체감 온도 선택값 (선택 시)
- 하트 저장 여부
- 최종 의사결정: 착용 / 입지 않음 / 이따가 할래요


---

### 3.4 검색 화면 (SearchScreen)
- 기능:
  - 검색창
  - 필터링 옵션 (스타일, 가격대, 브랜드 등)
  - 검색 결과 그리드 뷰

---

### 3.5 저장함 화면 (SavedScreen)
- 주요 기능:
  - 저장된 코디 목록 표시
  - 하트 버튼 토글 (저장/해제)
  - 그리드 레이아웃

---

### 3.6 알림 화면 (NotificationScreen)
- 기능:
  - 알림 목록
  - 읽음 처리, 전체 읽음 처리
  - 알림 카운트 표시 (예: 3개 고정)

---

### 3.7 설정 화면 (SettingsScreen)
- 기능:
  - 프로필 수정
  - 개인화 설정 변경
  - 로그아웃

---

## 4. 디자인 시스템 요약
- 컬러 시스템:
  - Primary: `#030213`
  - Secondary: `oklch(0.95 0.0058 264.53)`
  - Background: `#ffffff`
  - Muted: `#ececf0`
  - Accent: `#e9ebef`
  - Destructive: `#d4183d`
- 타이포그래피:
  - 기본 폰트 크기: 16px
  - H1~H4: Medium(500), 본문: Normal(400), 버튼/라벨: Medium(500)
  - 라인 높이: 1.5
- 레이아웃:
  - Border Radius: 10px
  - 다크모드 지원
  - 반응형 디자인

---

## 5. 사용자 플로우
1. 첫 방문 사용자  
   `앱 시작 → 온보딩 → 프로필 생성 → 홈 화면`

2. 기존 사용자  
   `앱 시작 → 홈 화면 → 코디 추천 확인 → 상세보기 → 피드백 제공 → 저장`

3. 네비게이션 플로우  
   `하단 탭으로 홈/검색/저장함/알림/설정 이동, 상세 화면에서는 네비게이션 숨김`

---

## 6. 주요 UX 특징
- 개인화: 온보딩 데이터 기반 코디 추천, 체온 민감도별 추천
- 사용성: 직관적 하단 네비게이션, 스크롤 위치 기억, 명확한 시각적 피드백
- 반응성: 빠른 화면 전환, 실시간 상태 업데이트, 부드러운 인터랙션

---

## 7. 구현 현황
- 완료: 컴포넌트 구조, 온보딩 플로우, 메인 네비게이션, 화면 UI, 상태 관리, 피드백 시스템(로그), 다크모드 지원
- 예정: 실제 데이터 연동, 기상청 API, Supabase DB, 개인화 알고리즘, 실제 이미지/브랜드 데이터
